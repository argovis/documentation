

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Openshift SSL Certificate Management &mdash; argovis  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> argovis
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../database/schema.html">Argovis data schema</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/qsp.html">API Query String Parameters</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">argovis</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Openshift SSL Certificate Management</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/ops/openshift-ssl.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="openshift-ssl-certificate-management">
<span id="ssl"></span><h1>Openshift SSL Certificate Management<a class="headerlink" href="#openshift-ssl-certificate-management" title="Permalink to this headline">¶</a></h1>
<p>Argovis’ public facing routes served from Openshift (the API and key manager at the time of writing) require SSL certificates for their HTTPS encryption. These certificates need to be renewed annually, around April.</p>
<div class="section" id="ssl-cert-renewal">
<h2>SSL Cert Renewal<a class="headerlink" href="#ssl-cert-renewal" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p>When it’s time to renew certs, you’ll receive an email from OIT / Sectigo. Use the included links to log in to Sectigo and request renewals through their dashboard.
- Some instructions at this step are a bit ambiguous; you need to make separate requests for each common name, <code class="docutils literal notranslate"><span class="pre">argovis-api.colorado.edu</span></code> and <code class="docutils literal notranslate"><span class="pre">argovis-keygen.colorado.edu</span></code>. Do not put them in the same request.</p></li>
<li><p>Within a day or two, you will get an enrollment successful email for each common name with links to a bunch of certs. save them all for posterity.</p></li>
<li><p>To use these certs, you need to make new routes in Openshift. Navigate netowrking -&gt; routes, and copy the yaml for apikey-manager-&lt;last year&gt;. Updates:</p>
<ul>
<li><p>Name to <code class="docutils literal notranslate"><span class="pre">apikey-manager-YYYY</span></code> for this year.</p></li>
<li><p>PEM format cert: should download in the previous step with a name like argovis-keygen_colorado_edu_cert.cer, have a single BEGIN / END CERTIFICATE block</p></li>
<li><p>Private key: should never change, copy from last year’s yaml</p></li>
<li><p>CA cert chain: the root-first one you downloaded above, named like argovis-keygen_colorado_edu_interm.cer.</p></li>
</ul>
</li>
<li><p>Once the YAML is set up, delete the old route and use this YAML to create the new one. Confirm you can still reach the keymanager in the browser without security warnings.</p></li>
<li><p>Repeat the route setup for the API.</p></li>
</ul>
</div></blockquote>
<p><em>Last reviewed 2024-04-04</em></p>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2024, Argovis Collaboration.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>